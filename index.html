<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ğŸŠ ì˜ˆì¸¡ ì‹¤í–‰</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            padding: 30px;
        }
        h1 {
            font-size: 32px;
            font-weight: bold;
        }
        button {
            font-size: 16px;
            padding: 8px 16px;
        }
        .result-block {
            margin-top: 20px;
        }
        .section-title {
            font-weight: bold;
            font-size: 20px;
            margin-top: 16px;
        }
        .error {
            color: red;
            font-weight: bold;
        }
        ul {
            padding-left: 20px;
        }
    </style>
</head>
<body>
    <h1>ğŸŠ ì˜ˆì¸¡ ì‹¤í–‰</h1>
    <button onclick="fetchPrediction()">ì˜ˆì¸¡ ì‹¤í–‰</button>

    <div class="result-block">
        <p id="round">ğŸ“ ì˜ˆì¸¡ íšŒì°¨: </p>

        <div>
            <div class="section-title">ì• ê¸°ì¤€ Top 5</div>
            <ul id="frontList"></ul>
        </div>

        <div>
            <div class="section-title">ë’¤ ê¸°ì¤€ Top 5</div>
            <ul id="backList"></ul>
        </div>
    </div>

    <script>
        async function fetchPrediction() {
            const roundElem = document.getElementById("round");
            const frontList = document.getElementById("frontList");
            const backList = document.getElementById("backList");

            roundElem.innerHTML = "ğŸ“ ì˜ˆì¸¡ íšŒì°¨: ì˜ˆì¸¡ ì‹¤íŒ¨";
            frontList.innerHTML = '<li class="error">âŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜</li>';
            backList.innerHTML = '<li class="error">âŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜</li>';

            try {
                const response = await fetch("https://ladder-server-clean-production.up.railway.app/predict");
                const data = await response.json();

                roundElem.innerHTML = `ğŸ“ ì˜ˆì¸¡ íšŒì°¨: ${data["ì˜ˆì¸¡íšŒì°¨"] || "ì˜ˆì¸¡ ì‹¤íŒ¨"}`;

                frontList.innerHTML = "";
                (data["ì•ê¸°ì¤€ ì˜ˆì¸¡ê°’"] || []).forEach(item => {
                    const li = document.createElement("li");
                    li.textContent = "âœ… " + item;
                    frontList.appendChild(li);
                });

                backList.innerHTML = "";
                (data["ë’¤ê¸°ì¤€ ì˜ˆì¸¡ê°’"] || []).forEach(item => {
                    const li = document.createElement("li");
                    li.textContent = "âœ… " + item;
                    backList.appendChild(li);
                });
            } catch (error) {
                console.error(error);
                frontList.innerHTML = '<li class="error">âŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜</li>';
                backList.innerHTML = '<li class="error">âŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜</li>';
            }
        }
    </script>
</body>
</html>
