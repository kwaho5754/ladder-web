<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ğŸŠ ì˜ˆì¸¡ ì‹¤í–‰</title>
    <style>
        body {
            font-family: "Segoe UI", sans-serif;
            padding: 40px;
        }
        h1 {
            font-size: 28px;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 6px;
        }
        .error {
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>ğŸŠ ì˜ˆì¸¡ ì‹¤í–‰</h1>
    <button onclick="fetchPrediction()">ì˜ˆì¸¡ ì‹¤í–‰</button>

    <h3>ğŸ“ ì˜ˆì¸¡ íšŒì°¨: <span id="round">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span></h3>
    <h3>ì• ê¸°ì¤€ Top 5</h3>
    <ul id="result">
        <li>â³ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</li>
    </ul>

    <script>
        async function fetchPrediction() {
            const round = document.getElementById("round");
            const resultList = document.getElementById("result");

            round.textContent = "ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...";
            resultList.innerHTML = "<li>â³ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</li>";

            try {
                const response = await fetch("https://ladder-server-clean.up.railway.app/predict");
                const data = await response.json();

                round.textContent = data.ì˜ˆì¸¡íšŒì°¨ || "ì—†ìŒ";

                resultList.innerHTML = "";

                if (data["ì•ê¸°ì¤€ ì˜ˆì¸¡ê°’"].length === 0) {
                    resultList.innerHTML = "<li class='error'>âŒ ì˜ˆì¸¡ê°’ ì—†ìŒ</li>";
                    return;
                }

                data["ì•ê¸°ì¤€ ì˜ˆì¸¡ê°’"].forEach(item => {
                    const li = document.createElement("li");
                    li.textContent = item;
                    resultList.appendChild(li);
                });

            } catch (error) {
                round.textContent = "ì˜ˆì¸¡ ì‹¤íŒ¨";
                resultList.innerHTML = "<li class='error'>âŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜</li>";
            }
        }

        // ìë™ ì‹¤í–‰
        fetchPrediction();
    </script>
</body>
</html>
