<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>사다리 예측값</title>
</head>
<body>
    <h2>사다리 점수제 예측 결과</h2>
    <h3 id="round-info">예측 회차: 불러오는 중...</h3>

    <ul id="predict-result">
        <li>불러오는 중...</li>
    </ul>

    <script>
        fetch('https://ladder-server-clean-production.up.railway.app/predict')
            .then(res => res.json())
            .then(data => {
                const ul = document.getElementById('predict-result');
                ul.innerHTML = '';
                document.getElementById('round-info').textContent = `예측 회차: ${data['예측회차']}회`;

                const predict = data['예측값'];
                if (!predict) {
                    ul.innerHTML = '<li>예측값 없음</li>';
                    return;
                }

                function showScore(label, item) {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <strong>${label}</strong>: ${item.value}<br>
                        - 최근 20줄: ${item.recent}회<br>
                        - 전체 288줄: ${item.total}회<br>
                        - 점수 합계: <b>${item.score}</b>점
                    `;
                    ul.appendChild(li);
                }

                showScore("시작방향", predict["시작방향"]);
                showScore("줄수", predict["줄수"]);
                showScore("홀짝", predict["홀짝"]);
            })
            .catch(err => {
                document.getElementById('round-info').textContent = '예측 회차: 에러';
                document.getElementById('predict-result').innerHTML = '<li>서버 오류</li>';
            });
    </script>
</body>
</html>
